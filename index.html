<!DOCTYPE html>

<!-- Copyright 2012 United States Government, as represented by the Secretary of Defense, Under  -->
<!-- Secretary of Defense (Personnel & Readiness).                                               -->
<!--                                                                                             -->
<!-- Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file   -->
<!-- except in compliance with the License. You may obtain a copy of the License at              -->
<!--                                                                                             -->
<!--   http://www.apache.org/licenses/LICENSE-2.0                                                -->
<!--                                                                                             -->
<!-- Unless required by applicable law or agreed to in writing, software distributed under the   -->
<!-- License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,   -->
<!-- either express or implied. See the License for the specific language governing permissions  -->
<!-- and limitations under the License.                                                          -->

<html>
  <head>

<meta name="HandheldFriendly" content="true" />
<meta name="viewport" content="width=device-width, height=device-height, user-scalable=no, initial-scale=1" />
<meta name="apple-mobile-web-app-capable" content="yes" />

   <script type="text/javascript" src="../js/jquery.js"></script>
	<script type="text/javascript" src="../js/jquery.mobile-1.1.0.js"></script>
	<script type="text/javascript" src="../js/TCDriverNik.js"></script>
	<script type="text/javascript" src="../js/Base64.js"></script>
	<link rel="stylesheet" type="text/css" href="../js/jquery.mobile.theme-1.1.0.css" />
    <link rel="stylesheet" type="text/css" href="../js/jquery.mobile.structure-1.1.0.css" />
    
    <!-- NH added graphing js -->
    <script language="javascript" type="text/javascript" src="../js/jquery.flot.js"></script>
    <script language="javascript" type="text/javascript" src="../js/jquery.flot.pie.js"></script>
    <script language="javascript" type="text/javascript" src="../js/jquery.flot.stack.js"></script>


	
	<style type="text/css"> 
	
	/* NH - added for pie graph */
	div.graph
		{
			width: 400px;
			height: 300px;
			border: 0px dashed gainsboro;
		}


	@keyframes fadeout2
	{
	
	0% {opacity:1;}
	75% {opacity:1;}
	100% {opacity:0;}
	}

	@-moz-keyframes fadeout2 /* Firefox */
	{
	
	0% {opacity:1;}
	75% {opacity:1;}
	100% {opacity:0;}
	}

	@-webkit-keyframes fadeout2 /* Safari and Chrome */
	{
	
	0% {opacity:1;}
	75% {opacity:1;}
	100% {opacity:0;}
	}
	
	@keyframes fadeout3
	{
	0% {opacity:1;}
	100% {opacity:0;}
	}

	@-moz-keyframes fadeout3 /* Firefox */
	{
	0% {opacity:1;}
	100% {opacity:0;}
	}

	@-webkit-keyframes fadeout3 /* Safari and Chrome */
	{
	0% {opacity:1;}
	100% {opacity:0;}
	}
	
		
	@keyframes fadein3
	{
	0% {opacity:0;}
	100% {opacity:1;}
	}

	@-moz-keyframes fadein3 /* Firefox */
	{
	0% {opacity:0;}
	100% {opacity:1;}
	}

	@-webkit-keyframes fadein3 /* Safari and Chrome */
	{
	0% {opacity:0;}
	100% {opacity:1;}
	}
	</style>

	

    
    
	
	<script src='stats.js' type="text/javascript"> </script>


  </head>
  <body>

  
<div style='min-height:100%' data-role="page" id="one">

	<div data-role="header" data-position="fixed">
		<h1>TinCan Game</h1>
	</div>

	<div data-role="content" >	
		
		
		<h1>TinCan Game Description</h1>	
		
		<p>This needs some more data</p>	
	
		<div data-role="controlgroup">
		<a id='togameboard' data-role="button">Show Game Board</a>
		<a id='toLeaderBoard' href="#LeaderBoard"  data-role="button">Show Leader Board</a>
        <a href="#ManualEntry"  data-role="button">Enter Code</a>		
		<a href="#Help" data-role="button">About</a>
		</div>
	</div>
	
	<div data-role="footer" data-theme="d" data-position="fixed" class="ui-bar ui-footer" style="padding-left:1px" data-id="foo1">
			
			<div  style="padding-bottom:3px" data-role='navbar'>
				<ul>
				<li><a data-role='button' data-icon='grid' class='footerbuttonGB'></a></li>
				<li><a data-role='button' data-icon='star' class='footerbuttonLB'></a></li>
				<li><a data-role='button' data-icon='gear' class='footerbuttonME'></a></li>
				<li><a data-role='button' data-icon='search' class='footerbuttonA'></a></li>	
				</ul>
			</div>
			
	</div>
</div>



<div style='min-height:100%' data-role="page" id="questionpage">

	<div data-role="header" data-position="fixed">
		<h1>Question</h1>
	</div>

	<div data-role="content" >	
		
		<div id='questiontext'>This needs some more data</div>	<br/><br/>
	
		<div data-role="controlgroup">
		<a id='answer1' data-role="button"></a>
		<a id='answer2' data-role="button"></a>
		<a id='answer3' data-role="button"></a>
		<a id='answer4' data-role="button"></a>
		</div>
	</div>
	
	<div data-role="footer" data-theme="d" data-position="fixed" data-id="foo1">
	</div>
</div>


<div data-role="page" id="VendorInfo">

	<div data-role="header">
		<h1>Vendor Info</h1>
	</div>

	<div data-role="content" >	
		
		<div id='VendorName'></div></br>
		<a href="#GameBoard"  data-role="button">Close</a>
		</div>
				
	<div data-role="footer" data-theme="d" data-position="fixed">
		<h4>ADL TinCan Game Demo</h4>
	</div>
</div>

<div data-role="page" id="UserScore">

	<div data-role="header">
		<h1>Scores</h1>
	</div>

	<div data-role="content" >	
		
		<div id='scorename'></div></br>
		<div id='scoreemail'></div></br>
		<div id='scoreval'></div></br>
		<a id='toLeaderBoard' href="#LeaderBoard" data-icon='back' data-role="button">Back</a>
		</div>
				
	<div data-role="footer" data-theme="d" data-position="fixed">
		<h4>ADL TinCan Game Demo</h4>
	</div>
</div>


<div data-role="page" id="LeaderBoard">

	<div data-role="header" data-position="fixed">
		<h1>Leader Board</h1>
	</div>

	<div data-role="content" >	
		
	
		<div data-role="controlgroup">
		<div >
		<ul id='lboard' data-role="listview" data-inset="true">
			    
				
		</ul>
		</div>
		
		<a id='refresh' data-role="button">Refresh</a>
		
		
		</div>
	</div>
	
	<div data-role="footer" data-theme="d" data-position="fixed" class="ui-bar ui-footer" style="padding-left:1px" data-id="foo1">
			
			<div  style="padding-bottom:3px" data-role='navbar'>
				<ul>
				<li><a data-role='button' data-icon='grid' class='footerbuttonGB'></a></li>
				<li><a data-role='button' data-icon='star' class='footerbuttonLB'></a></li>
				<li><a data-role='button' data-icon='gear' class='footerbuttonME'></a></li>
				<li><a data-role='button' data-icon='search' class='footerbuttonA'></a></li>	
				</ul>
			</div>
			
	</div>
</div>

<div data-role="page" id="Help">

	<div data-role="header" data-position="fixed">
		<h1>Game Help</h1>
	</div>

	<div data-role="content" >	
		
		<p>This Demo application uses the Rustici LRS and ADL LRS technology to track user's performance data.</p>	
		<p>Scan QR codes from around the conference to reveal parts of the image. When you know who the image is, submit your answer to the ADL staff.</p>
		<p>The LRS requires an 'Actor name' for you. When you first start the application, you'll be prompted to enter one. This data will be used to associate an event in the LRS with you.</p>
		<p>Use the Reset Button Below to reset your progress and forget your Actor Name. You'll have to choose a different name next time you want to play, because the data will already be stored and finalized.</p>
		<div data-role="controlgroup">
		
		<a  href="#UserInfo" data-role="button" data-rel='dialog'>User Info</a>
		<a  href="#resetpage" data-role="button" data-rel='dialog'>Reset</a>	
			
		
		</div>
	</div>
	
	<div data-role="footer" data-theme="d" data-position="fixed" class="ui-bar ui-footer" style="padding-left:1px" data-id="foo1">
			
			<div  style="padding-bottom:3px" data-role='navbar'>
				<ul>
				<li><a data-role='button' data-icon='grid' class='footerbuttonGB'></a></li>
				<li><a data-role='button' data-icon='star' class='footerbuttonLB'></a></li>
				<li><a data-role='button' data-icon='gear' class='footerbuttonME'></a></li>
				<li><a data-role='button' data-icon='search' class='footerbuttonA'></a></li>	
				</ul>
			</div>
			
	</div>
</div>


<div data-role="page" id="UserInfo">

	<div data-role="header">
		<h1>User Info</h1>
	</div>

	<div data-role="content" >	
		
		<p>You are logged in as:</p>	
		<p><div id='currentusername'></div></p>	
		<p><div id='currentuseremail'></div></p>	
		<div data-role="controlgroup">
		<a  href="#Help" data-role="button">Ok</a>		
		</div>
	</div>
	
	<div data-role="footer" data-theme="d" data-position="fixed" >
			<h4>ADL TinCan Demo</h4>
	</div>
</div>

<div data-role="page" id="resetpage">

	<div data-role="header" data-position="fixed">
		<h1>Game Reset</h1>
	</div>

	<div data-role="content" >	
		
		<p>Are you sure you want to reset? You will loose all game progress, and have to create a new name to play again.</p>	
		
		<div data-role="controlgroup">
		
		<a id='reset' data-role="button">Confirm Reset</a>	
		<a  href="#Help" data-role="button">Cancel</a>		
		</div>
	</div>
	
	<div data-role="footer" data-theme="d" data-position="fixed"  >
		<h4>ADL TinCan Demo</h4>
	</div>
</div>



<div data-role="page" id="SignIn">

	<div data-role="header" data-position="fixed">
		<h1>Sign Up</h1>
	</div>

	<div data-role="content" >	
		
		<p>Please enter an email address below.</p>
		<p><input type='text' id='email2'></input></p>
			
		<p>Please enter a password below.</p>
		<p><input type='password' id='password2'></input></p>	
		
		<div data-role="controlgroup">
		<a id='signinok'  data-role="button">Ok</a>		
		<a href="#login" data-role="button">Cancel</a>
		</div>
	</div>
	
	<div data-role="footer" data-theme="d" data-position="fixed">
		<h4>ADL TinCan Game Demo</h4>
	</div>
</div>

<div data-role="page" id="SignUp">

	<div data-role="header" data-position="fixed">
		<h1>Sign Up</h1>
	</div>

	<div data-role="content" >	
		
		<p>The LRS requires an 'Actor name' for you. This data will be used to associate an event in the LRS with you.</p>
		<p>You'll have to choose a unique name so that your data is not confused with any one else's</p>

		<p>Please enter a username below.</p>	
		
		<div data-role="controlgroup">
		
		<p><input type='text' id='username'></input></p>
		
		<p>Please enter an email address below.</p>
		<p><input type='text' id='email'></input></p>
		
		<p>Please enter a password below.</p>
		<p><input type='password' id='password'></input></p>
		
		<p>Please confirm the password.</p>
		<p><input type='password' id='password1'></input></p>
		<a id='usernameok'  data-role="button">Ok</a>		
		<a href="#login" data-role="button">Cancel</a>
		</div>
	</div>
	
	<div data-role="footer" data-theme="d" data-position="fixed">
		<h4>ADL TinCan Game Demo</h4>
	</div>
</div>


<div data-role="page" id="login">

	<div data-role="header" data-position="fixed">
		<h1>Actor Name</h1>
	</div>

	<div data-role="content" >	
		
		<p>The LRS requires an 'Actor name' for you. This data will be used to associate an event in the LRS with you.</p>
		<p>You'll have to choose a unique name so that your data is not confused with any one else's</p>

		<a href='#SignUp' data-role="button">Create Account</a>		
		<a href='#SignIn' data-role="button">Sign In</a>
		
	</div>

	
	<div data-role="footer" data-theme="d" data-position="fixed">
		<h4>ADL TinCan Game Demo</h4>
	</div>
</div>

<div data-role="page" id="SubmitGuess">

	<div data-role="header" data-position="fixed">
		<h1>Guess the answer</h1>
	</div>

	<div data-role="content" >	
		
		<p>Guess the answer to the puzzle. Carefull, you only get 3 guesses.</p>
		

		<p>Enter your guess below.</p>	
		
		<div data-role="controlgroup">
		
		<p><input type='text' id='guess'></input></p>
		<a id='GuessOk' data-role="button">Submit Guess</a>		
		<a  href="#one" data-role="button">Cancel</a>
		</div>
	</div>
	
	<div data-role="footer" data-theme="d" data-position="fixed">
		<h4>ADL TinCan Game Demo</h4>
	</div>
</div>

<div data-role="page" id="ManualEntryCode">

	<div data-role="header" data-position="fixed">
		<h1>Manual Entry</h1>
	</div>

	<div data-role="content" >	
		
		<p>If you cannot scan a QR code, you may manually enter it's code. This code is printed near the bottom of the QR code plackard.</p>
		<p>The code should be 5 letters and is not case sensitive.</p>

		<p>Enter the code below.</p>	
		
		<div data-role="controlgroup">
		
		<p><input type='text' id='manualcode'></input></p>
		<a id='ManualEntryOk' data-role="button">Ok</a>		
		
		</div>
	</div>
	
	<div data-role="footer" data-theme="d" data-position="fixed" class="ui-bar ui-footer" style="padding-left:1px" data-id="foo1">
			
			<div  style="padding-bottom:3px" data-role='navbar'>
				<ul>
				<li><a data-role='button' data-icon='grid' class='footerbuttonGB'></a></li>
				<li><a data-role='button' data-icon='star' class='footerbuttonLB'></a></li>
				<li><a data-role='button' data-icon='gear' class='footerbuttonME'></a></li>
				<li><a data-role='button' data-icon='search' class='footerbuttonA'></a></li>	
				</ul>
			</div>
			
	</div>
</div>

<div data-role="page" id="ManualEntryAnswer">

	<div data-role="header" data-position="fixed">
		<h1>Submit Answer</h1>
	</div>

	<div data-role="content" >	
		
		
		<p>Enter your guess.</p>	
		
		<div data-role="controlgroup">
		
		<p><input type='text' id='manualanswer'></input></p>
		<a id='SubmitAnswerOk' data-role="button">Ok</a>		
		
		</div>
	</div>
	
	<div data-role="footer" data-theme="d" data-position="fixed" class="ui-bar ui-footer" style="padding-left:1px" data-id="foo1">
			
			<div  style="padding-bottom:3px" data-role='navbar'>
				<ul>
				<li><a data-role='button' data-icon='grid' class='footerbuttonGB'></a></li>
				<li><a data-role='button' data-icon='star' class='footerbuttonLB'></a></li>
				<li><a data-role='button' data-icon='gear' class='footerbuttonME'></a></li>
				<li><a data-role='button' data-icon='search' class='footerbuttonA'></a></li>	
				</ul>
			</div>
			
	</div>
</div>

<div data-role="page" id="ManualEntry">

	<div data-role="header" data-position="fixed">
		<h1>Manual Entry</h1>
	</div>

	<div data-role="content" >	
		
		
		
		<div data-role="controlgroup">
		<p>If you don't have access to a camera, but wish to enter the QR code manually, choose "Enter A QR Code".</p>
		<p>If you would like to submit an answer to the puzzle, use "Solve The Puzzle". Remember, you only get 3 guesses!</p>
		<a href="#ManualEntryCode" data-role="button">Enter A QR Code</a>		
		<a href="#ManualEntryAnswer" data-role="button">Solve The Puzzle</a>		
		
		</div>
	</div>
	
	<div data-role="footer" data-theme="d" data-position="fixed" class="ui-bar ui-footer" style="padding-left:1px" data-id="foo1">
			
			<div  style="padding-bottom:3px" data-role='navbar'>
				<ul>
				<li><a data-role='button' data-icon='grid' class='footerbuttonGB'></a></li>
				<li><a data-role='button' data-icon='star' class='footerbuttonLB'></a></li>
				<li><a data-role='button' data-icon='gear' class='footerbuttonME'></a></li>
				<li><a data-role='button' data-icon='search' class='footerbuttonA'></a></li>	
				</ul>
			</div>
			
	</div>
</div>



<div data-role="page" id="GameBoard" data-url="#GameBoard">
	<div data-role="content" data-theme="a">	
			<div  id='gamebase' ></div>
			
	</div>
	
	<div data-role="footer" data-theme="d" data-position="fixed" class="ui-bar ui-footer" style="padding-left:1px" data-id="foo1">
			
			<div  style="padding-bottom:3px" data-role='navbar'>
				<ul>
				<li><a data-role='button' data-icon='grid' class='footerbuttonGB'></a></li>
				<li><a data-role='button' data-icon='star' class='footerbuttonLB'></a></li>
				<li><a data-role='button' data-icon='gear' class='footerbuttonME'></a></li>
				<li><a data-role='button' data-icon='search' class='footerbuttonA'></a></li>	
				</ul>
			</div>
			
	</div>
	
</div>

<style type="text/css">
    div.LiveStreamHeader {font-size: 3em; background-color: black; color: White; margin-top: 0em; padding: .4em; text-align: center;}
    div.LiveStreamSubHeader {font-size: 2em; background-color: #DDDDDD; color: #666666; padding: .3em; text-align: center;}
    table.LiveStreamView {margin: auto; font-size: large;}
    table.LiveStreamView tr td h2 {white-space: nowrap; background-color: #DDDDDD; padding: .3em;
        -moz-border-radius: 5px;
        -webkit-border-radius: 5px;
        border-radius: 10px;
    }
    .Bargraph {width:760px;height:250px;}
    .TopRowStatsContainer {overflow: auto; height: 310px;}
    .BottomRowStatsContainer {overflow: auto; height: 350px;}
</style>

<div data-role="page" id="LiveStream" data-url="LiveStream">
    <div class="LiveStreamHeader">ADL 'Tin Can Rally' Dashboard</div>
	<div class="LiveStreamSubHeader">start playing now at: http://mlc.adlnet.gov</div>
	
	<table border="0" cellpadding="15" cellspacing="0" class="LiveStreamView">
	    <tr>
            <!-- col 1 -->
	        <td valign="top">
	            <h2><span id="TotalPlayers">0</span> Players</h2>
                <ul id='PlayerList' class="TopRowStatsContainer" data-role="listview" data-inset="true">
                    <li>Loading...</li>
                </ul>
	        </td>
            <!-- col 2 -->
	        <td valign="top">          	
	        
                <h2><span id="TotalAnswers">0</span> QR Codes Scanned</h2>
                <!-- begin bar graph -->           
                <table border="0">
                    <tr>
                        <td valign="top" style="width: 25px;">
                            <div style="margin-left: -10em; margin-right: -10em; white-space:nowrap; -webkit-transform:rotate(270deg); -moz-transform:rotate(270deg); -o-transform: rotate(270deg);">
                            Total Replies&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                            </div>
                        </td>
                        
                        <td valign="top">
                            <div id="Bargraph" class="Bargraph"></div>
                            <div style="text-align: center">Question Number</div>
                            
                            <div style="padding-top: .8em;">
                                <span style="background-color: #EDC240;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> - Correct
                                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                <span style="background-color: #AFD8F8;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> - Incorrect
                            </div>
                            
                        </td>
                    </tr>
                </table>
                <!-- end bar graph -->  

            </td>
	        <!-- col 3 -->
	        <td valign="top">
	            <h2><span id="TotalSolveAttempts">0 Solve Attempts</span></h2>
	            <div id="piegraph" class="graph"></div>

            	
	        </td>
	    </tr> 
	    <tr>
	        <!-- col 1 -->
	        <td valign="top">
	            <h2><span id="TotalCorrectAnswers">0</span> Tiles Uncovered</h2>
	            <ul id='CorrectAnswerList' class="BottomRowStatsContainer" data-role="listview" data-inset="true">
                    <li>Loading...</li>
	            </ul>	        
	        </td>
	        <!-- col 2 -->
	        <td valign="top">
                <h2>Top Scanners</h2>
            	<ul id='LeaderList' class="BottomRowStatsContainer" data-role="listview" data-inset="true">
	                <li>Loading...</li>            	
            	</ul>         	        
	        </td>
	        <!-- col 3 -->
	        <td valign="top">
                <h2><span id="TotalSolved">0 Puzzle Solvers</span></h2>
	            <ul id='PuzzleSolversList' class="BottomRowStatsContainer" data-role="listview" data-inset="true">
	                <li>Loading...</li>	            
	            </ul>
	            <br />
	        </td>
	    </tr>
	</table>
		
    <div  style="display: none;">
        <h2>Raw Stream</h2>
        <ul id='EventList' data-role="listview" data-inset="true" style="display: none;">
            <li>Loading...</li>
        </ul>
    </div>

</div>

<div id='newpiece'></div>  
  
  </body>
</html>
